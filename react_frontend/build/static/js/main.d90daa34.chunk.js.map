{"version":3,"sources":["App.tsx","index.tsx"],"names":["AudioPlayer","rawLocationSearch","useLocation","search","locationSearch","slice","length","React","useState","errored","setErrored","endpoint","URLSearchParams","get","src","autoPlay","controls","loop","controlsList","onError","error","console","log","FetchedDescription","description","setDescription","val","fetch","then","response","json","data","fetchedDescription","catch","App","className","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8QAoBA,SAASA,IACP,IAAMC,EAAoBC,cAAcC,OAClCC,EAAiBH,EAAkBI,QAAQJ,EAAkBK,OAAO,IAFtD,EAIUC,IAAMC,UAAS,GAJzB,mBAIbC,EAJa,KAIJC,EAJI,KAMpB,GAAGD,EACD,OAAO,wDAQT,IACE,IAGME,EAAW,wDAHH,IAAIC,gBAAiBR,GACjBS,IAAI,OAKtB,OAAO,cAAC,IAAD,CACLC,IAAKH,EACLI,UAAU,EACVC,UAAU,EACVC,MAAM,EACNC,aAAc,aACdC,QAlBuB,SAACC,GAC1BC,QAAQC,IAAI,UAAWF,GACvBV,GAAW,MAmBb,MAAMU,GAGJ,OAFAC,QAAQC,IAAI,UAAWF,GACvBV,GAAW,GACJ,yDAIX,SAASa,IAAqB,IAAD,EACWf,mBAAS,0BADpB,mBACpBgB,EADoB,KACPC,EADO,KAErBxB,EAAoBC,cAAcC,OACxC,IACE,IAAMC,EAAiBH,EAAkBI,QAAQJ,EAAkBK,OAAO,IAEpEoB,EADQ,IAAId,gBAAiBR,GACjBS,IAAI,OAItBc,MAFiB,2EAA6ED,GAE9EE,MAAK,SAACC,GAAD,OAAaA,EAASC,UAC1CF,MAAK,SAACG,GACL,IAAMC,EAAqBD,EAAKP,YAC7BQ,GAAoBP,EAAeO,MACrCC,OAAM,SAACb,GACRC,QAAQC,IAAI,gCAAiCF,MAGjD,MAAMA,GACJC,QAAQC,IAAI,gCAAiCF,GAG/C,OAAO,6BAAKI,IAICU,MA9Ef,WACE,OACE,qBAAKC,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACA,eAAC,IAAD,WACE,cAACnC,EAAD,IACA,cAACuB,EAAD,YCNRa,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.d90daa34.chunk.js","sourcesContent":["import React, { ErrorInfo, useState } from 'react';\nimport './App.css';\nimport ReactAudioPlayer from 'react-audio-player';\nimport {BrowserRouter as Router, useLocation} from 'react-router-dom'\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">   \n      <Router>\n        <AudioPlayer/>    \n        <FetchedDescription/>    \n      </Router>      \n      </header>\n    </div>\n  );\n}\n\n\nfunction AudioPlayer(){\n  const rawLocationSearch = useLocation().search;\n  const locationSearch = rawLocationSearch.slice(-(rawLocationSearch.length-1));\n\n  const [errored, setErrored] = React.useState(false);\n\n  if(errored){\n    return <h1>Unable to load snippet</h1>\n  }\n\n  const onAudioPlayerError = (error: any)=>{\n    console.log(\"Error: \", error);\n    setErrored(true);\n  }\n  \n  try{\n    const query = new URLSearchParams((locationSearch));\n    const val = query.get('val');    \n      \n    const endpoint = 'https://letsusespeakup.com/backend/open/snippets?val=' + val;\n    // const endpoint = 'http://localhost:1234/backend/open/snippets?val=' + val;\n  \n    return(<ReactAudioPlayer    \n      src={endpoint}\n      autoPlay={true}\n      controls={true}\n      loop={true}\n      controlsList={'nodownload'}      \n      onError={onAudioPlayerError}\n    />)\n  }\n  catch(error){    \n    console.log(\"ERROR: \", error);\n    setErrored(true);\n    return <h1>Unable to load snippet</h1>\n  }  \n}\n\nfunction FetchedDescription(){  \n  const [description, setDescription] = useState('A snippet from SpeakUp')\n  const rawLocationSearch = useLocation().search;\n  try{\n    const locationSearch = rawLocationSearch.slice(-(rawLocationSearch.length-1));\n    const query = new URLSearchParams((locationSearch));\n    const val = query.get('val'); \n\n    const endpoint = 'https://letsusespeakup.com/backend/open/snippets/snippetdescription?val=' + val;\n    // const endpoint = 'http://localhost:1234/backend/open/snippets/snippetdescription?val=' + val;      \n    fetch(endpoint).then((response)=> response.json())\n    .then((data)=>{\n      const fetchedDescription = data.description;\n      if(fetchedDescription) setDescription(fetchedDescription);\n    }).catch((error)=>{\n      console.log(\"ERROR -- FetchedDescription: \", error);\n    })\n  }\n  catch(error){\n    console.log(\"ERROR -- FetchedDescription: \", error);    \n  }\n\n  return <h2>{description}</h2>\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}